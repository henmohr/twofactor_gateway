(function(e,H){typeof exports=="object"&&typeof module<"u"?H(require("vue"),require("@nextcloud/axios"),require("@nextcloud/router"),require("@nextcloud/l10n"),require("@nextcloud/dialogs")):typeof define=="function"&&define.amd?define(["vue","@nextcloud/axios","@nextcloud/router","@nextcloud/l10n","@nextcloud/dialogs"],H):(e=typeof globalThis<"u"?globalThis:e||self,H(e.Vue,e.NextcloudAxios,e.NextcloudRouter,e.NextcloudL10n,e.NextcloudDialogs))})(this,(function(e,H,Y,h,ye){"use strict";function tn(o,n,i){const a=`#initial-state-${o}-${n}`;if(window._nc_initial_state?.has(a))return window._nc_initial_state.get(a);window._nc_initial_state||(window._nc_initial_state=new Map);const r=document.querySelector(a);if(r===null){if(i!==void 0)return i;throw new Error(`Could not find initial state ${n} of ${o}`)}try{const l=JSON.parse(atob(r.value));return window._nc_initial_state.set(a,l),l}catch(l){if(console.error("[@nextcloud/initial-state] Could not parse initial state",{key:n,app:o,error:l}),i!==void 0)return i;throw new Error(`Could not parse initial state ${n} of ${o}`,{cause:l})}}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */Symbol(process.env.NODE_ENV!=="production"?"navigation failure":""),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":"");const nn=Symbol(process.env.NODE_ENV!=="production"?"router":"");Symbol(process.env.NODE_ENV!=="production"?"route location":""),Symbol(process.env.NODE_ENV!=="production"?"router view location":"");const[on]=window.OC?.config?.version?.split(".")??[],Ee=Number.parseInt(on??"32")<32,se=(o,n)=>{const i=o.__vccOpts||o;for(const[a,r]of n)i[a]=r;return i},an={class:"button-vue__wrapper"},rn={class:"button-vue__icon"},sn={class:"button-vue__text"},le=se(e.defineComponent({__name:"NcButton",props:{alignment:{default:"center"},ariaLabel:{default:void 0},disabled:{type:Boolean},download:{type:[String,Boolean],default:void 0},href:{default:void 0},pressed:{type:Boolean,default:void 0},size:{default:"normal"},target:{default:"_self"},text:{default:void 0},to:{default:void 0},type:{default:"button"},variant:{default:"secondary"},wide:{type:Boolean}},emits:["click","update:pressed"],setup(o,{emit:n}){const i=o,a=n,r=e.inject(nn,null)!==null,l=e.computed(()=>r&&i.to?"RouterLink":i.href?"a":"button"),u=e.computed(()=>l.value==="button"&&typeof i.pressed=="boolean"),f=e.computed(()=>i.pressed?"primary":i.pressed===!1&&i.variant==="primary"?"secondary":i.variant),_=e.computed(()=>f.value.startsWith("tertiary")),E=e.computed(()=>i.alignment.split("-")[0]),y=e.computed(()=>i.alignment.includes("-")),R=e.inject("NcPopover:trigger:attrs",()=>({}),!1),F=e.computed(()=>R()),z=e.computed(()=>{if(l.value==="RouterLink")return{to:i.to,activeClass:"active"};if(l.value==="a")return{href:i.href||"#",target:i.target,rel:"nofollow noreferrer noopener",download:i.download||void 0};if(l.value==="button")return{...F.value,"aria-pressed":i.pressed,type:i.type,disabled:i.disabled}});function N(c){u.value&&a("update:pressed",!i.pressed),a("click",c)}return(c,m)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.value),e.mergeProps({class:["button-vue",[`button-vue--size-${c.size}`,{[`button-vue--${f.value}`]:f.value,"button-vue--tertiary":_.value,"button-vue--wide":c.wide,[`button-vue--${E.value}`]:E.value!=="center","button-vue--reverse":y.value,"button-vue--legacy":e.unref(Ee)}]],"aria-label":c.ariaLabel},z.value,{onClick:N}),{default:e.withCtx(()=>[e.createElementVNode("span",an,[e.createElementVNode("span",rn,[e.renderSlot(c.$slots,"icon",{},void 0,!0)]),e.createElementVNode("span",sn,[e.renderSlot(c.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(c.text),1)],!0)])])]),_:3},16,["class","aria-label"]))}}),[["__scopeId","data-v-e4697e39"]]),ln=["aria-label"],cn=["width","height"],dn=["fill"],pn=["fill"],fn={key:0},Re=se(e.defineComponent({__name:"NcLoadingIcon",props:{appearance:{default:"auto"},name:{default:""},size:{default:20}},setup(o){const n=o,i=e.computed(()=>{const a=["#777","#CCC"];return n.appearance==="light"?a:n.appearance==="dark"?a.reverse():["var(--color-loading-light)","var(--color-loading-dark)"]});return(a,r)=>(e.openBlock(),e.createElementBlock("span",{"aria-label":a.name,role:"img",class:"material-design-icon loading-icon"},[(e.openBlock(),e.createElementBlock("svg",{width:a.size,height:a.size,viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:i.value[0],d:"M12,4V2A10,10 0 1,0 22,12H20A8,8 0 1,1 12,4Z"},null,8,dn),e.createElementVNode("path",{fill:i.value[1],d:"M12,4V2A10,10 0 0,1 22,12H20A8,8 0 0,0 12,4Z"},[a.name?(e.openBlock(),e.createElementBlock("title",fn,e.toDisplayString(a.name),1)):e.createCommentVNode("",!0)],8,pn)],8,cn))],8,ln))}}),[["__scopeId","data-v-cf399190"]]);var un="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",st="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",mn="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M13,17H11V15H13V17M13,13H11V7H13V13Z",gn="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",lt="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",hn="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",_n="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",yn="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",En="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z";/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:ct,setPrototypeOf:dt,isFrozen:Tn,getPrototypeOf:wn,getOwnPropertyDescriptor:An}=Object;let{freeze:I,seal:P,create:Be}=Object,{apply:Ve,construct:xe}=typeof Reflect<"u"&&Reflect;I||(I=function(n){return n}),P||(P=function(n){return n}),Ve||(Ve=function(n,i){for(var a=arguments.length,r=new Array(a>2?a-2:0),l=2;l<a;l++)r[l-2]=arguments[l];return n.apply(i,r)}),xe||(xe=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return new n(...a)});const Te=O(Array.prototype.forEach),bn=O(Array.prototype.lastIndexOf),pt=O(Array.prototype.pop),ce=O(Array.prototype.push),Nn=O(Array.prototype.splice),we=O(String.prototype.toLowerCase),Pe=O(String.prototype.toString),He=O(String.prototype.match),de=O(String.prototype.replace),Sn=O(String.prototype.indexOf),kn=O(String.prototype.trim),U=O(Object.prototype.hasOwnProperty),M=O(RegExp.prototype.test),pe=Cn(TypeError);function O(o){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return Ve(o,n,a)}}function Cn(o){return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return xe(o,i)}}function g(o,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:we;dt&&dt(o,null);let a=n.length;for(;a--;){let r=n[a];if(typeof r=="string"){const l=i(r);l!==r&&(Tn(n)||(n[a]=l),r=l)}o[r]=!0}return o}function Ln(o){for(let n=0;n<o.length;n++)U(o,n)||(o[n]=null);return o}function W(o){const n=Be(null);for(const[i,a]of ct(o))U(o,i)&&(Array.isArray(a)?n[i]=Ln(a):a&&typeof a=="object"&&a.constructor===Object?n[i]=W(a):n[i]=a);return n}function fe(o,n){for(;o!==null;){const a=An(o,n);if(a){if(a.get)return O(a.get);if(typeof a.value=="function")return O(a.value)}o=wn(o)}function i(){return null}return i}const ft=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ue=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fe=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dn=I(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ze=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),In=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ut=I(["#text"]),mt=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=I(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gt=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ae=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mn=P(/\{\{[\w\W]*|[\w\W]*\}\}/gm),On=P(/<%[\w\W]*|[\w\W]*%>/gm),Rn=P(/\$\{[\w\W]*/gm),Bn=P(/^data-[\-\w.\u00B7-\uFFFF]+$/),Vn=P(/^aria-[\-\w]+$/),ht=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xn=P(/^(?:\w+script|data):/i),Pn=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_t=P(/^html$/i),Hn=P(/^[a-z][.\w]*(-[.\w]+)+$/i);var yt=Object.freeze({__proto__:null,ARIA_ATTR:Vn,ATTR_WHITESPACE:Pn,CUSTOM_ELEMENT:Hn,DATA_ATTR:Bn,DOCTYPE_NAME:_t,ERB_EXPR:On,IS_ALLOWED_URI:ht,IS_SCRIPT_OR_DATA:xn,MUSTACHE_EXPR:Mn,TMPLIT_EXPR:Rn});const ue={element:1,text:3,progressingInstruction:7,comment:8,document:9},Un=function(){return typeof window>"u"?null:window},Fn=function(n,i){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const r="data-tt-policy-suffix";i&&i.hasAttribute(r)&&(a=i.getAttribute(r));const l="dompurify"+(a?"#"+a:"");try{return n.createPolicy(l,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Et=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Tt(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Un();const n=p=>Tt(p);if(n.version="3.3.0",n.removed=[],!o||!o.document||o.document.nodeType!==ue.document||!o.Element)return n.isSupported=!1,n;let{document:i}=o;const a=i,r=a.currentScript,{DocumentFragment:l,HTMLTemplateElement:u,Node:f,Element:_,NodeFilter:E,NamedNodeMap:y=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:R,DOMParser:F,trustedTypes:z}=o,N=_.prototype,c=fe(N,"cloneNode"),m=fe(N,"remove"),x=fe(N,"nextSibling"),Se=fe(N,"childNodes"),X=fe(N,"parentNode");if(typeof u=="function"){const p=i.createElement("template");p.content&&p.content.ownerDocument&&(i=p.content.ownerDocument)}let w,J="";const{implementation:je,createNodeIterator:Ko,createDocumentFragment:Jo,getElementsByTagName:Qo}=i,{importNode:ea}=a;let B=Et();n.isSupported=typeof ct=="function"&&typeof X=="function"&&je&&je.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ye,ERB_EXPR:qe,TMPLIT_EXPR:Xe,DATA_ATTR:ta,ARIA_ATTR:na,IS_SCRIPT_OR_DATA:oa,ATTR_WHITESPACE:It,CUSTOM_ELEMENT:aa}=yt;let{IS_ALLOWED_URI:Mt}=yt,S=null;const Ot=g({},[...ft,...Ue,...Fe,...ze,...ut]);let C=null;const Rt=g({},[...mt,...$e,...gt,...Ae]);let A=Object.seal(Be(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,Ze=null;const Q=Object.seal(Be(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Bt=!0,Ke=!0,Vt=!1,xt=!0,ee=!1,ke=!0,Z=!1,Je=!1,Qe=!1,te=!1,Ce=!1,Le=!1,Pt=!0,Ht=!1;const ia="user-content-";let et=!0,he=!1,ne={},oe=null;const Ut=g({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ft=null;const zt=g({},["audio","video","img","source","image","track"]);let tt=null;const $t=g({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",G="http://www.w3.org/1999/xhtml";let ae=G,nt=!1,ot=null;const ra=g({},[De,Ie,G],Pe);let Me=g({},["mi","mo","mn","ms","mtext"]),Oe=g({},["annotation-xml"]);const sa=g({},["title","style","font","a","script"]);let _e=null;const la=["application/xhtml+xml","text/html"],ca="text/html";let k=null,ie=null;const da=i.createElement("form"),Wt=function(t){return t instanceof RegExp||t instanceof Function},at=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ie&&ie===t)){if((!t||typeof t!="object")&&(t={}),t=W(t),_e=la.indexOf(t.PARSER_MEDIA_TYPE)===-1?ca:t.PARSER_MEDIA_TYPE,k=_e==="application/xhtml+xml"?Pe:we,S=U(t,"ALLOWED_TAGS")?g({},t.ALLOWED_TAGS,k):Ot,C=U(t,"ALLOWED_ATTR")?g({},t.ALLOWED_ATTR,k):Rt,ot=U(t,"ALLOWED_NAMESPACES")?g({},t.ALLOWED_NAMESPACES,Pe):ra,tt=U(t,"ADD_URI_SAFE_ATTR")?g(W($t),t.ADD_URI_SAFE_ATTR,k):$t,Ft=U(t,"ADD_DATA_URI_TAGS")?g(W(zt),t.ADD_DATA_URI_TAGS,k):zt,oe=U(t,"FORBID_CONTENTS")?g({},t.FORBID_CONTENTS,k):Ut,ge=U(t,"FORBID_TAGS")?g({},t.FORBID_TAGS,k):W({}),Ze=U(t,"FORBID_ATTR")?g({},t.FORBID_ATTR,k):W({}),ne=U(t,"USE_PROFILES")?t.USE_PROFILES:!1,Bt=t.ALLOW_ARIA_ATTR!==!1,Ke=t.ALLOW_DATA_ATTR!==!1,Vt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,xt=t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=t.SAFE_FOR_TEMPLATES||!1,ke=t.SAFE_FOR_XML!==!1,Z=t.WHOLE_DOCUMENT||!1,te=t.RETURN_DOM||!1,Ce=t.RETURN_DOM_FRAGMENT||!1,Le=t.RETURN_TRUSTED_TYPE||!1,Qe=t.FORCE_BODY||!1,Pt=t.SANITIZE_DOM!==!1,Ht=t.SANITIZE_NAMED_PROPS||!1,et=t.KEEP_CONTENT!==!1,he=t.IN_PLACE||!1,Mt=t.ALLOWED_URI_REGEXP||ht,ae=t.NAMESPACE||G,Me=t.MATHML_TEXT_INTEGRATION_POINTS||Me,Oe=t.HTML_INTEGRATION_POINTS||Oe,A=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Wt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(A.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Wt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(A.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(A.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Ke=!1),Ce&&(te=!0),ne&&(S=g({},ut),C=[],ne.html===!0&&(g(S,ft),g(C,mt)),ne.svg===!0&&(g(S,Ue),g(C,$e),g(C,Ae)),ne.svgFilters===!0&&(g(S,Fe),g(C,$e),g(C,Ae)),ne.mathMl===!0&&(g(S,ze),g(C,gt),g(C,Ae))),t.ADD_TAGS&&(typeof t.ADD_TAGS=="function"?Q.tagCheck=t.ADD_TAGS:(S===Ot&&(S=W(S)),g(S,t.ADD_TAGS,k))),t.ADD_ATTR&&(typeof t.ADD_ATTR=="function"?Q.attributeCheck=t.ADD_ATTR:(C===Rt&&(C=W(C)),g(C,t.ADD_ATTR,k))),t.ADD_URI_SAFE_ATTR&&g(tt,t.ADD_URI_SAFE_ATTR,k),t.FORBID_CONTENTS&&(oe===Ut&&(oe=W(oe)),g(oe,t.FORBID_CONTENTS,k)),et&&(S["#text"]=!0),Z&&g(S,["html","head","body"]),S.table&&(g(S,["tbody"]),delete ge.tbody),t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=t.TRUSTED_TYPES_POLICY,J=w.createHTML("")}else w===void 0&&(w=Fn(z,r)),w!==null&&typeof J=="string"&&(J=w.createHTML(""));I&&I(t),ie=t}},Gt=g({},[...Ue,...Fe,...Dn]),vt=g({},[...ze,...In]),pa=function(t){let s=X(t);(!s||!s.tagName)&&(s={namespaceURI:ae,tagName:"template"});const d=we(t.tagName),T=we(s.tagName);return ot[t.namespaceURI]?t.namespaceURI===Ie?s.namespaceURI===G?d==="svg":s.namespaceURI===De?d==="svg"&&(T==="annotation-xml"||Me[T]):!!Gt[d]:t.namespaceURI===De?s.namespaceURI===G?d==="math":s.namespaceURI===Ie?d==="math"&&Oe[T]:!!vt[d]:t.namespaceURI===G?s.namespaceURI===Ie&&!Oe[T]||s.namespaceURI===De&&!Me[T]?!1:!vt[d]&&(sa[d]||!Gt[d]):!!(_e==="application/xhtml+xml"&&ot[t.namespaceURI]):!1},$=function(t){ce(n.removed,{element:t});try{X(t).removeChild(t)}catch{m(t)}},K=function(t,s){try{ce(n.removed,{attribute:s.getAttributeNode(t),from:s})}catch{ce(n.removed,{attribute:null,from:s})}if(s.removeAttribute(t),t==="is")if(te||Ce)try{$(s)}catch{}else try{s.setAttribute(t,"")}catch{}},jt=function(t){let s=null,d=null;if(Qe)t="<remove></remove>"+t;else{const b=He(t,/^[\r\n\t ]+/);d=b&&b[0]}_e==="application/xhtml+xml"&&ae===G&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const T=w?w.createHTML(t):t;if(ae===G)try{s=new F().parseFromString(T,_e)}catch{}if(!s||!s.documentElement){s=je.createDocument(ae,"template",null);try{s.documentElement.innerHTML=nt?J:T}catch{}}const D=s.body||s.documentElement;return t&&d&&D.insertBefore(i.createTextNode(d),D.childNodes[0]||null),ae===G?Qo.call(s,Z?"html":"body")[0]:Z?s.documentElement:D},Yt=function(t){return Ko.call(t.ownerDocument||t,t,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},it=function(t){return t instanceof R&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof y)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},qt=function(t){return typeof f=="function"&&t instanceof f};function v(p,t,s){Te(p,d=>{d.call(n,t,s,ie)})}const Xt=function(t){let s=null;if(v(B.beforeSanitizeElements,t,null),it(t))return $(t),!0;const d=k(t.nodeName);if(v(B.uponSanitizeElement,t,{tagName:d,allowedTags:S}),ke&&t.hasChildNodes()&&!qt(t.firstElementChild)&&M(/<[/\w!]/g,t.innerHTML)&&M(/<[/\w!]/g,t.textContent)||t.nodeType===ue.progressingInstruction||ke&&t.nodeType===ue.comment&&M(/<[/\w]/g,t.data))return $(t),!0;if(!(Q.tagCheck instanceof Function&&Q.tagCheck(d))&&(!S[d]||ge[d])){if(!ge[d]&&Kt(d)&&(A.tagNameCheck instanceof RegExp&&M(A.tagNameCheck,d)||A.tagNameCheck instanceof Function&&A.tagNameCheck(d)))return!1;if(et&&!oe[d]){const T=X(t)||t.parentNode,D=Se(t)||t.childNodes;if(D&&T){const b=D.length;for(let V=b-1;V>=0;--V){const j=c(D[V],!0);j.__removalCount=(t.__removalCount||0)+1,T.insertBefore(j,x(t))}}}return $(t),!0}return t instanceof _&&!pa(t)||(d==="noscript"||d==="noembed"||d==="noframes")&&M(/<\/no(script|embed|frames)/i,t.innerHTML)?($(t),!0):(ee&&t.nodeType===ue.text&&(s=t.textContent,Te([Ye,qe,Xe],T=>{s=de(s,T," ")}),t.textContent!==s&&(ce(n.removed,{element:t.cloneNode()}),t.textContent=s)),v(B.afterSanitizeElements,t,null),!1)},Zt=function(t,s,d){if(Pt&&(s==="id"||s==="name")&&(d in i||d in da))return!1;if(!(Ke&&!Ze[s]&&M(ta,s))){if(!(Bt&&M(na,s))){if(!(Q.attributeCheck instanceof Function&&Q.attributeCheck(s,t))){if(!C[s]||Ze[s]){if(!(Kt(t)&&(A.tagNameCheck instanceof RegExp&&M(A.tagNameCheck,t)||A.tagNameCheck instanceof Function&&A.tagNameCheck(t))&&(A.attributeNameCheck instanceof RegExp&&M(A.attributeNameCheck,s)||A.attributeNameCheck instanceof Function&&A.attributeNameCheck(s,t))||s==="is"&&A.allowCustomizedBuiltInElements&&(A.tagNameCheck instanceof RegExp&&M(A.tagNameCheck,d)||A.tagNameCheck instanceof Function&&A.tagNameCheck(d))))return!1}else if(!tt[s]){if(!M(Mt,de(d,It,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&t!=="script"&&Sn(d,"data:")===0&&Ft[t])){if(!(Vt&&!M(oa,de(d,It,"")))){if(d)return!1}}}}}}}return!0},Kt=function(t){return t!=="annotation-xml"&&He(t,aa)},Jt=function(t){v(B.beforeSanitizeAttributes,t,null);const{attributes:s}=t;if(!s||it(t))return;const d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:C,forceKeepAttr:void 0};let T=s.length;for(;T--;){const D=s[T],{name:b,namespaceURI:V,value:j}=D,re=k(b),rt=j;let L=b==="value"?rt:kn(rt);if(d.attrName=re,d.attrValue=L,d.keepAttr=!0,d.forceKeepAttr=void 0,v(B.uponSanitizeAttribute,t,d),L=d.attrValue,Ht&&(re==="id"||re==="name")&&(K(b,t),L=ia+L),ke&&M(/((--!?|])>)|<\/(style|title|textarea)/i,L)){K(b,t);continue}if(re==="attributename"&&He(L,"href")){K(b,t);continue}if(d.forceKeepAttr)continue;if(!d.keepAttr){K(b,t);continue}if(!xt&&M(/\/>/i,L)){K(b,t);continue}ee&&Te([Ye,qe,Xe],en=>{L=de(L,en," ")});const Qt=k(t.nodeName);if(!Zt(Qt,re,L)){K(b,t);continue}if(w&&typeof z=="object"&&typeof z.getAttributeType=="function"&&!V)switch(z.getAttributeType(Qt,re)){case"TrustedHTML":{L=w.createHTML(L);break}case"TrustedScriptURL":{L=w.createScriptURL(L);break}}if(L!==rt)try{V?t.setAttributeNS(V,b,L):t.setAttribute(b,L),it(t)?$(t):pt(n.removed)}catch{K(b,t)}}v(B.afterSanitizeAttributes,t,null)},fa=function p(t){let s=null;const d=Yt(t);for(v(B.beforeSanitizeShadowDOM,t,null);s=d.nextNode();)v(B.uponSanitizeShadowNode,s,null),Xt(s),Jt(s),s.content instanceof l&&p(s.content);v(B.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(p){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=null,d=null,T=null,D=null;if(nt=!p,nt&&(p="<!-->"),typeof p!="string"&&!qt(p))if(typeof p.toString=="function"){if(p=p.toString(),typeof p!="string")throw pe("dirty is not a string, aborting")}else throw pe("toString is not a function");if(!n.isSupported)return p;if(Je||at(t),n.removed=[],typeof p=="string"&&(he=!1),he){if(p.nodeName){const j=k(p.nodeName);if(!S[j]||ge[j])throw pe("root node is forbidden and cannot be sanitized in-place")}}else if(p instanceof f)s=jt("<!---->"),d=s.ownerDocument.importNode(p,!0),d.nodeType===ue.element&&d.nodeName==="BODY"||d.nodeName==="HTML"?s=d:s.appendChild(d);else{if(!te&&!ee&&!Z&&p.indexOf("<")===-1)return w&&Le?w.createHTML(p):p;if(s=jt(p),!s)return te?null:Le?J:""}s&&Qe&&$(s.firstChild);const b=Yt(he?p:s);for(;T=b.nextNode();)Xt(T),Jt(T),T.content instanceof l&&fa(T.content);if(he)return p;if(te){if(Ce)for(D=Jo.call(s.ownerDocument);s.firstChild;)D.appendChild(s.firstChild);else D=s;return(C.shadowroot||C.shadowrootmode)&&(D=ea.call(a,D,!0)),D}let V=Z?s.outerHTML:s.innerHTML;return Z&&S["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&M(_t,s.ownerDocument.doctype.name)&&(V="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+V),ee&&Te([Ye,qe,Xe],j=>{V=de(V,j," ")}),w&&Le?w.createHTML(V):V},n.setConfig=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};at(p),Je=!0},n.clearConfig=function(){ie=null,Je=!1},n.isValidAttribute=function(p,t,s){ie||at({});const d=k(p),T=k(t);return Zt(d,T,s)},n.addHook=function(p,t){typeof t=="function"&&ce(B[p],t)},n.removeHook=function(p,t){if(t!==void 0){const s=bn(B[p],t);return s===-1?void 0:Nn(B[p],s,1)[0]}return pt(B[p])},n.removeHooks=function(p){B[p]=[]},n.removeAllHooks=function(){B=Et()},n}var We=Tt();function zn(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Ge,wt;function $n(){if(wt)return Ge;wt=1;var o=/["'&<>]/;Ge=n;function n(i){var a=""+i,r=o.exec(a);if(!r)return a;var l,u="",f=0,_=0;for(f=r.index;f<a.length;f++){switch(a.charCodeAt(f)){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&#39;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}_!==f&&(u+=a.substring(_,f)),_=f+1,u+=l}return _!==f?u+a.substring(_,f):u}return Ge}var Wn=$n();const At=zn(Wn);function bt(){return globalThis._nc_l10n_language}globalThis._nc_l10n_locale??=typeof document<"u"&&document.documentElement.dataset.locale||Intl.DateTimeFormat().resolvedOptions().locale.replaceAll(/-/g,"_"),globalThis._nc_l10n_language??=typeof document<"u"&&document.documentElement.lang||(globalThis.navigator?.language??"en");function Nt(o){return{translations:globalThis._oc_l10n_registry_translations[o]??{},pluralFunction:globalThis._oc_l10n_registry_plural_functions[o]??(n=>n)}}globalThis._oc_l10n_registry_translations??={},globalThis._oc_l10n_registry_plural_functions??={};/*!
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: GPL-3.0-or-later
 */function be(o,n,i,a,r){const l=typeof i=="object"?i:void 0,u=typeof a=="number"?a:typeof i=="number"?i:void 0,f={escape:!0,sanitize:!0,...typeof r=="object"?r:typeof a=="object"?a:{}},_=c=>c,E=(f.sanitize?We.sanitize:_)||_,y=f.escape?At:_,R=c=>typeof c=="string"||typeof c=="number",F=(c,m,x)=>c.replace(/%n/g,""+x).replace(/{([^{}]*)}/g,(Se,X)=>{if(m===void 0||!(X in m))return y(Se);const w=m[X];return R(w)?y(`${w}`):typeof w=="object"&&R(w.value)?(w.escape!==!1?At:_)(`${w.value}`):y(Se)});let N=(r?.bundle??Nt(o)).translations[n]||n;return N=Array.isArray(N)?N[0]:N,E(typeof l=="object"||u!==void 0?F(N,l,u):N)}function Gn(o,n,i,a,r,l){const u="_"+n+"_::_"+i+"_",f=l?.bundle??Nt(o),_=f.translations[u];if(typeof _<"u"){const E=_;if(Array.isArray(E)){const y=f.pluralFunction(a);return be(o,E[y],r,a,l)}}return a===1?be(o,n,r,a,l):be(o,i,r,a,l)}function vn(o,n=bt()){switch(n==="pt-BR"&&(n="xbr"),n.length>3&&(n=n.substring(0,n.lastIndexOf("-"))),n){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return o===1?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return o===0||o===1?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return o%10===1&&o%100!==11?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2;case"cs":case"sk":return o===1?0:o>=2&&o<=4?1:2;case"ga":return o===1?0:o===2?1:2;case"lt":return o%10===1&&o%100!==11?0:o%10>=2&&(o%100<10||o%100>=20)?1:2;case"sl":return o%100===1?0:o%100===2?1:o%100===3||o%100===4?2:3;case"mk":return o%10===1?0:1;case"mt":return o===1?0:o===0||o%100>1&&o%100<11?1:o%100>10&&o%100<20?2:3;case"lv":return o===0?0:o%10===1&&o%100!==11?1:2;case"pl":return o===1?0:o%10>=2&&o%10<=4&&(o%100<12||o%100>14)?1:2;case"cy":return o===1?0:o===2?1:o===8||o===11?2:3;case"ro":return o===1?0:o===0||o%100>0&&o%100<20?1:2;case"ar":return o===0?0:o===1?1:o===2?2:o%100>=3&&o%100<=10?3:o%100>=11&&o%100<=99?4:5;default:return 0}}/*!
 * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: GPL-3.0-or-later
 */class jn{bundle;constructor(n){this.bundle={pluralFunction:n,translations:{}}}addTranslations(n){const i=Object.values(n.translations[""]??{}).map(({msgid:a,msgid_plural:r,msgstr:l})=>r!==void 0?[`_${a}_::_${r}_`,l]:[a,l[0]]);this.bundle.translations={...this.bundle.translations,...Object.fromEntries(i)}}gettext(n,i={}){return be("",n,i,void 0,{bundle:this.bundle})}ngettext(n,i,a,r={}){return Gn("",n,i,a,r,{bundle:this.bundle})}}class Yn{debug=!1;language="en";translations={};setLanguage(n){return this.language=n,this}detectLocale(){return this.detectLanguage()}detectLanguage(){return this.setLanguage(bt().replace("-","_"))}addTranslation(n,i){return this.translations[n]=i,this}enableDebugMode(){return this.debug=!0,this}build(){this.debug&&console.debug(`Creating gettext instance for language ${this.language}`);const n=new jn(i=>vn(i,this.language));return this.language in this.translations&&n.addTranslations(this.translations[this.language]),n}}function qn(){return new Yn}/*!
 * SPDX-FileCopyrightText: Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */const St=qn().detectLanguage().build(),ve=(...o)=>St.gettext(...o);function Xn(...o){for(const n of o)if(!n.registered){for(const{l:i,t:a}of n){if(i!==h.getLanguage()||!a)continue;const r=Object.fromEntries(Object.entries(a).map(([l,u])=>[l,{msgid:l,msgid_plural:u.p,msgstr:u.v}]));St.addTranslations({translations:{"":r}})}n.registered=!0}}const Zn=["aria-hidden","aria-label"],Kn={key:0,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Jn=["d"],Qn=["innerHTML"],q=se(e.defineComponent({__name:"NcIconSvgWrapper",props:{directional:{type:Boolean},inline:{type:Boolean},svg:{default:""},name:{default:void 0},path:{default:""},size:{default:20}},setup(o){e.useCssVars(r=>({fb515064:i.value}));const n=o,i=e.computed(()=>typeof n.size=="number"?`${n.size}px`:n.size),a=e.computed(()=>{if(!n.svg||n.path)return;const r=We.sanitize(n.svg),l=new DOMParser().parseFromString(r,"image/svg+xml");return l.querySelector("parsererror")?(e.warn("SVG is not valid"),""):(l.documentElement.id&&l.documentElement.removeAttribute("id"),l.documentElement.outerHTML)});return(r,l)=>(e.openBlock(),e.createElementBlock("span",{"aria-hidden":r.name?void 0:"true","aria-label":r.name||void 0,class:e.normalizeClass(["icon-vue",{"icon-vue--directional":r.directional,"icon-vue--inline":r.inline}]),role:"img"},[a.value?(e.openBlock(),e.createElementBlock("span",{key:1,innerHTML:a.value},null,8,Qn)):(e.openBlock(),e.createElementBlock("svg",Kn,[e.createElementVNode("path",{d:r.path},null,8,Jn)]))],10,Zn))}}),[["__scopeId","data-v-aaedb1c3"]]);window._nc_vue_element_id=window._nc_vue_element_id??0;function eo(){return`nc-vue-${window._nc_vue_element_id++}`}const to={class:"input-field__main-wrapper"},no=["id","aria-describedby","disabled","placeholder","type","value"],oo=["for"],ao={class:"input-field__icon input-field__icon--leading"},io={key:2,class:"input-field__icon input-field__icon--trailing"},ro=["id"],kt=se(e.defineComponent({inheritAttrs:!1,__name:"NcInputField",props:e.mergeModels({class:{default:""},inputClass:{default:""},id:{default:()=>eo()},label:{default:void 0},labelOutside:{type:Boolean},type:{default:"text"},placeholder:{default:void 0},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{default:""},disabled:{type:Boolean},pill:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:e.mergeModels(["trailingButtonClick"],["update:modelValue"]),setup(o,{expose:n,emit:i}){const a=e.useModel(o,"modelValue"),r=o,l=i;n({focus:F,select:z});const u=e.useAttrs(),f=e.useTemplateRef("input"),_=e.computed(()=>r.showTrailingButton||r.success),E=e.computed(()=>{if(r.placeholder)return r.placeholder;if(r.label)return Ee?r.label:""}),y=e.computed(()=>{const c=r.label||r.labelOutside;return c||e.warn("You need to add a label to the NcInputField component. Either use the prop label or use an external one, as per the example in the documentation."),c}),R=e.computed(()=>{const c=[];return r.helperText&&c.push(`${r.id}-helper-text`),u["aria-describedby"]&&c.push(String(u["aria-describedby"])),c.join(" ")||void 0});function F(c){f.value.focus(c)}function z(){f.value.select()}function N(c){const m=c.target;a.value=r.type==="number"&&typeof a.value=="number"?parseFloat(m.value):m.value}return(c,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["input-field",[{"input-field--disabled":c.disabled,"input-field--error":c.error,"input-field--label-outside":c.labelOutside||!y.value,"input-field--leading-icon":!!c.$slots.icon,"input-field--trailing-icon":_.value,"input-field--pill":c.pill,"input-field--success":c.success,"input-field--legacy":e.unref(Ee)},c.$props.class]])},[e.createElementVNode("div",to,[e.createElementVNode("input",e.mergeProps(c.$attrs,{id:c.id,ref:"input","aria-describedby":R.value,"aria-live":"polite",class:["input-field__input",c.inputClass],disabled:c.disabled,placeholder:E.value,type:c.type,value:a.value.toString(),onInput:N}),null,16,no),!c.labelOutside&&y.value?(e.openBlock(),e.createElementBlock("label",{key:0,class:"input-field__label",for:c.id},e.toDisplayString(c.label),9,oo)):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("div",ao,[e.renderSlot(c.$slots,"icon",{},void 0,!0)],512),[[e.vShow,!!c.$slots.icon]]),c.showTrailingButton?(e.openBlock(),e.createBlock(e.unref(le),{key:1,class:"input-field__trailing-button","aria-label":c.trailingButtonLabel,disabled:c.disabled,variant:"tertiary-no-background",onClick:m[0]||(m[0]=x=>l("trailingButtonClick",x))},{icon:e.withCtx(()=>[e.renderSlot(c.$slots,"trailing-button-icon",{},void 0,!0)]),_:3},8,["aria-label","disabled"])):c.success||c.error?(e.openBlock(),e.createElementBlock("div",io,[c.success?(e.openBlock(),e.createBlock(e.unref(q),{key:0,path:e.unref(lt)},null,8,["path"])):(e.openBlock(),e.createBlock(e.unref(q),{key:1,path:e.unref(st)},null,8,["path"]))])):e.createCommentVNode("",!0)]),c.helperText?(e.openBlock(),e.createElementBlock("p",{key:0,id:`${c.id}-helper-text`,class:"input-field__helper-text-message"},[c.success?(e.openBlock(),e.createBlock(e.unref(q),{key:0,class:"input-field__helper-text-message__icon",path:e.unref(lt),inline:""},null,8,["path"])):c.error?(e.openBlock(),e.createBlock(e.unref(q),{key:1,class:"input-field__helper-text-message__icon",path:e.unref(st),inline:""},null,8,["path"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(c.helperText),1)],8,ro)):e.createCommentVNode("",!0)],2))}}),[["__scopeId","data-v-3487c05a"]]);Xn();const me=e.defineComponent({__name:"NcTextField",props:e.mergeModels({class:{},inputClass:{},id:{},label:{},labelOutside:{type:Boolean},type:{},placeholder:{},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{},disabled:{type:Boolean},pill:{type:Boolean},trailingButtonIcon:{default:"close"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(o,{expose:n}){const i=e.useModel(o,"modelValue"),a=o;n({focus:_,select:E});const r=e.useTemplateRef("inputField"),l={arrowEnd:ve("Save changes"),close:ve("Clear text"),undo:ve("Undo changes")},u=new Set(Object.keys(kt.props)),f=e.computed(()=>{const y=Object.fromEntries(Object.entries(a).filter(([R])=>u.has(R)));return y.trailingButtonLabel??=l[a.trailingButtonIcon],y});function _(y){r.value.focus(y)}function E(){r.value.select()}return(y,R)=>(e.openBlock(),e.createBlock(e.unref(kt),e.mergeProps(f.value,{ref:"inputField",modelValue:i.value,"onUpdate:modelValue":R[0]||(R[0]=F=>i.value=F)}),e.createSlots({_:2},[y.$slots.icon?{name:"icon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,"icon")]),key:"0"}:void 0,y.type!=="search"?{name:"trailing-button-icon",fn:e.withCtx(()=>[y.trailingButtonIcon==="arrowEnd"?(e.openBlock(),e.createBlock(e.unref(q),{key:0,directional:"",path:e.unref(gn)},null,8,["path"])):(e.openBlock(),e.createBlock(e.unref(q),{key:1,path:y.trailingButtonIcon==="undo"?e.unref(En):e.unref(_n)},null,8,["path"]))]),key:"1"}:void 0]),1040,["modelValue"]))}}),Ne=(o,n)=>{const i=o.__vccOpts||o;for(const[a,r]of n)i[a]=r;return i},so={name:"GatewaySettings",components:{NcButton:le,NcLoadingIcon:Re,NcTextField:me},props:{gatewayName:{type:String,required:!0},displayName:{type:String,required:!0},instructions:{type:String,required:!0}},setup(){return{t:h.t}},data(){return{loading:!1,state:0,isAvailable:!1,phoneNumber:"",confirmationCode:"",identifier:"",verificationError:""}},computed:{instructionsHTML(){return We.sanitize(this.instructions,{ADD_ATTR:["target"]})}},mounted(){H.get(Y.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification",{gateway:this.gatewayName})).then(({data:o})=>{console.debug("loaded state for gateway "+this.gatewayName,o),this.state=o.state,this.phoneNumber=o.phoneNumber}).catch(o=>console.info(this.gatewayName+" gateway is not available",o)).finally(()=>{this.loading=!1})},methods:{enable(){this.state=1,this.verificationError="",this.loading=!1},verify(){this.loading=!0,this.verificationError="",H.post(Y.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification/start",{gateway:this.gatewayName}),{identifier:this.identifier}).then(({data:o})=>{this.state=2,this.phoneNumber=o.phoneNumber}).catch(({response:o})=>{console.debug(o.data),this.state=1,this.verificationError=o?.data?.message??""}).finally(()=>{this.loading=!1})},confirm(){this.loading=!0,H.post(Y.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification/finish",{gateway:this.gatewayName}),{verificationCode:this.confirmationCode}).then(()=>{this.state=3}).catch(({response:o})=>{this.state=1,this.verificationError=o?.data?.ocs?.data?.message??""}).finally(()=>{this.loading=!1})},disable(){this.loading=!0,H.delete(Y.generateOcsUrl("/apps/twofactor_gateway/settings/{gateway}/verification",{gateway:this.gatewayName})).then(({data:o})=>{this.state=o.state,this.phoneNumber=o.phoneNumber}).catch(console.error.bind(this)).finally(()=>{this.loading=!1})}}},lo={key:1},co={key:0},po=["innerHTML"],fo={key:1},uo=["innerHTML"],mo={key:0},go={key:2},ho={key:3};function _o(o,n,i,a,r,l){const u=e.resolveComponent("NcLoadingIcon"),f=e.resolveComponent("NcButton"),_=e.resolveComponent("NcTextField");return e.openBlock(),e.createElementBlock("div",null,[r.loading?(e.openBlock(),e.createBlock(u,{key:0,size:20})):(e.openBlock(),e.createElementBlock("div",lo,[r.state===0?(e.openBlock(),e.createElementBlock("p",co,[e.createElementVNode("span",{innerHTML:l.instructionsHTML},null,8,po),e.createTextVNode(" "+e.toDisplayString(a.t("twofactor_gateway","You are not using {displayName} for two-factor authentication at the moment.",{displayName:i.displayName}))+" ",1),e.createVNode(f,{onClick:l.enable},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.t("twofactor_gateway","Enable")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0),r.state===1?(e.openBlock(),e.createElementBlock("p",fo,[e.createElementVNode("span",{innerHTML:l.instructionsHTML},null,8,uo),r.verificationError.length?(e.openBlock(),e.createElementBlock("strong",mo,e.toDisplayString(a.t("twofactor_gateway","Could not verify your code. Please try again.")),1)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(a.t("twofactor_gateway","Enter your identification (e.g. phone number to start the verification):"))+" ",1),e.createVNode(_,{modelValue:r.identifier,"onUpdate:modelValue":n[0]||(n[0]=E=>r.identifier=E),class:"input",spellcheck:!1,error:r.verificationError.length>0,"helper-text":r.verificationError},null,8,["modelValue","error","helper-text"]),e.createVNode(f,{onClick:l.verify},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.t("twofactor_gateway","Verify")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0),r.state===2?(e.openBlock(),e.createElementBlock("p",go,[e.createTextVNode(e.toDisplayString(a.t("twofactor_gateway","A confirmation code has been sent to {phone}. Please insert the code here:",{phone:r.phoneNumber}))+" ",1),e.createVNode(_,{modelValue:r.confirmationCode,"onUpdate:modelValue":n[1]||(n[1]=E=>r.confirmationCode=E),class:"input",spellcheck:!1},null,8,["modelValue"]),e.createVNode(f,{onClick:l.confirm},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.t("twofactor_gateway","Confirm")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0),r.state===3?(e.openBlock(),e.createElementBlock("p",ho,[e.createTextVNode(e.toDisplayString(a.t("twofactor_gateway","Your account was successfully configured to receive messages via {displayName}.",{displayName:i.displayName}))+" ",1),e.createVNode(f,{onClick:l.disable},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.t("twofactor_gateway","Disable")),1)]),_:1},8,["onClick"])])):e.createCommentVNode("",!0)]))])}const yo=Ne(so,[["render",_o],["__scopeId","data-v-a1fb3f10"]]),Eo=["role"],To={key:0,class:"notecard__heading"},wo={class:"notecard__text"},Ct=se(e.defineComponent({__name:"NcNoteCard",props:{heading:{default:void 0},showAlert:{type:Boolean},text:{default:void 0},type:{default:"warning"}},setup(o){const n=o,i=e.computed(()=>n.showAlert||n.type==="error"),a=e.computed(()=>{switch(n.type){case"error":return mn;case"success":return hn;case"info":return yn;case"warning":default:return un}});return(r,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["notecard",{[`notecard--${r.type}`]:r.type,"notecard--legacy":e.unref(Ee)}]),role:i.value?"alert":"note"},[e.renderSlot(r.$slots,"icon",{},()=>[e.createVNode(e.unref(q),{path:a.value,class:e.normalizeClass(["notecard__icon",{"notecard__icon--heading":r.heading}]),inline:""},null,8,["path","class"])],!0),e.createElementVNode("div",null,[r.heading?(e.openBlock(),e.createElementBlock("p",To,e.toDisplayString(r.heading),1)):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("p",wo,e.toDisplayString(r.text),1)],!0)])],10,Eo))}}),[["__scopeId","data-v-7e4656f9"]]),Ao=e.defineComponent({name:"Check"}),bo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",class:"mdi-icon"};function No(o,n,i,a,r,l){return e.openBlock(),e.createElementBlock("svg",bo,[...n[0]||(n[0]=[e.createElementVNode("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},null,-1)])])}const So=Ne(Ao,[["render",No],["__scopeId","data-v-7ac1a601"]]),ko=e.defineComponent({name:"CheckCircle"}),Co={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",class:"mdi-icon"};function Lo(o,n,i,a,r,l){return e.openBlock(),e.createElementBlock("svg",Co,[...n[0]||(n[0]=[e.createElementVNode("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L5.5,12L6.91,10.58L10,13.67L17.09,6.58L18.5,8L10,16.5Z"},null,-1)])])}const Do=Ne(ko,[["render",Lo],["__scopeId","data-v-827ec2f7"]]),Io={class:"whatsapp-cloud-api-settings"},Mo={class:"settings-section"},Oo={class:"field-group"},Ro={for:"phone-number-id"},Bo={class:"field-description"},Vo={class:"field-group"},xo={for:"business-account-id"},Po={class:"field-description"},Ho={class:"field-group"},Uo={for:"api-key"},Fo={class:"field-description"},zo={class:"field-group"},$o={for:"api-endpoint"},Wo={class:"optional"},Go={class:"field-description"},vo={class:"actions"},jo={key:1,class:"instructions"},Yo={href:"https://business.facebook.com",target:"_blank",rel:"noopener noreferrer"},qo={href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started/",target:"_blank",rel:"noopener noreferrer"},Xo=Ne(e.defineComponent({__name:"WhatsAppCloudApiSettings",setup(o){const n=e.ref({phoneNumberId:"",businessAccountId:"",apiKey:"",apiEndpoint:""}),i=e.ref({...n.value}),a=e.computed(()=>JSON.stringify(n.value)!==JSON.stringify(i.value)),r=e.ref(!1),l=e.ref(!1),u=e.ref(""),f=e.ref("info"),_=e.computed(()=>n.value.phoneNumberId&&n.value.apiKey&&n.value.businessAccountId),E=e.computed(()=>_.value);function y(){}async function R(){try{const c=await H.get(Y.generateOcsUrl("/apps/twofactor_gateway/api/v1/whatsapp/configuration"));if(c.data.ocs?.data){const m=c.data.ocs.data;n.value={phoneNumberId:m.phone_number_id||"",businessAccountId:m.business_account_id||"",apiKey:m.api_key||"",apiEndpoint:m.api_endpoint||""},i.value={...n.value}}}catch(c){console.debug("No configuration found or error loading it",c)}}async function F(){if(E.value){r.value=!0,u.value="";try{await H.post(Y.generateOcsUrl("/apps/twofactor_gateway/api/v1/whatsapp/configuration"),{phone_number_id:n.value.phoneNumberId,business_account_id:n.value.businessAccountId,api_key:n.value.apiKey,api_endpoint:n.value.apiEndpoint||"https://graph.facebook.com"}),i.value={...n.value},u.value=h.t("twofactor_gateway","Configuration saved successfully"),f.value="success",ye.showSuccess(h.t("twofactor_gateway","WhatsApp configuration saved"))}catch(c){const m=c.response?.data?.ocs?.meta?.message||h.t("twofactor_gateway","Failed to save configuration");u.value=m,f.value="error",ye.showError(m),console.error("Error saving configuration:",c)}finally{r.value=!1}}}async function z(){if(_.value){l.value=!0,u.value="";try{await H.post(Y.generateOcsUrl("/apps/twofactor_gateway/api/v1/whatsapp/test"),{phone_number_id:n.value.phoneNumberId,business_account_id:n.value.businessAccountId,api_key:n.value.apiKey,api_endpoint:n.value.apiEndpoint||"https://graph.facebook.com"}),u.value=h.t("twofactor_gateway","Connection test successful!"),f.value="success",ye.showSuccess(h.t("twofactor_gateway","WhatsApp connection test successful"))}catch(c){const m=c.response?.data?.ocs?.meta?.message||h.t("twofactor_gateway","Connection test failed");u.value=m,f.value="error",ye.showError(m),console.error("Error testing configuration:",c)}finally{l.value=!1}}}function N(){n.value={...i.value},u.value=""}return R(),(c,m)=>(e.openBlock(),e.createElementBlock("div",Io,[e.createElementVNode("h2",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","WhatsApp Cloud API Configuration")),1),e.createVNode(e.unref(Ct),{type:"info",class:"info-note"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Configure the Meta/Facebook WhatsApp Cloud API to enable two-factor authentication via WhatsApp.")),1)]),_:1}),e.createElementVNode("div",Mo,[e.createElementVNode("div",Oo,[e.createElementVNode("label",Ro,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Phone Number ID"))+" ",1),m[4]||(m[4]=e.createElementVNode("span",{class:"required"},"*",-1))]),e.createElementVNode("p",Bo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","The ID of your WhatsApp phone number from Meta Business Account")),1),e.createVNode(e.unref(me),{id:"phone-number-id",modelValue:n.value.phoneNumberId,"onUpdate:modelValue":[m[0]||(m[0]=x=>n.value.phoneNumberId=x),y],placeholder:e.unref(h.t)("twofactor_gateway","e.g., 1234567890")},null,8,["modelValue","placeholder"])]),e.createElementVNode("div",Vo,[e.createElementVNode("label",xo,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","WhatsApp Business Account ID"))+" ",1),m[5]||(m[5]=e.createElementVNode("span",{class:"required"},"*",-1))]),e.createElementVNode("p",Po,e.toDisplayString(e.unref(h.t)("twofactor_gateway","The ID of your WhatsApp Business Account from Meta Business Manager")),1),e.createVNode(e.unref(me),{id:"business-account-id",modelValue:n.value.businessAccountId,"onUpdate:modelValue":[m[1]||(m[1]=x=>n.value.businessAccountId=x),y],placeholder:e.unref(h.t)("twofactor_gateway","e.g., 1234567890")},null,8,["modelValue","placeholder"])]),e.createElementVNode("div",Ho,[e.createElementVNode("label",Uo,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","API Access Token"))+" ",1),m[6]||(m[6]=e.createElementVNode("span",{class:"required"},"*",-1))]),e.createElementVNode("p",Fo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Your Meta Graph API token with whatsapp_business_messaging permission")),1),e.createVNode(e.unref(me),{id:"api-key",modelValue:n.value.apiKey,"onUpdate:modelValue":[m[2]||(m[2]=x=>n.value.apiKey=x),y],placeholder:e.unref(h.t)("twofactor_gateway","Paste your API token here"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),e.createElementVNode("div",zo,[e.createElementVNode("label",$o,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","API Endpoint"))+" ",1),e.createElementVNode("span",Wo,"("+e.toDisplayString(e.unref(h.t)("twofactor_gateway","optional"))+")",1)]),e.createElementVNode("p",Go,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Default: https://graph.facebook.com. Change only if using a custom endpoint.")),1),e.createVNode(e.unref(me),{id:"api-endpoint",modelValue:n.value.apiEndpoint,"onUpdate:modelValue":[m[3]||(m[3]=x=>n.value.apiEndpoint=x),y],placeholder:e.unref(h.t)("twofactor_gateway","https://graph.facebook.com")},null,8,["modelValue","placeholder"])])]),e.createElementVNode("div",vo,[e.createVNode(e.unref(le),{disabled:!a.value||r.value||!E.value,"aria-busy":r.value,onClick:F},{icon:e.withCtx(()=>[r.value?(e.openBlock(),e.createBlock(e.unref(Re),{key:0,size:20})):(e.openBlock(),e.createBlock(So,{key:1,size:20}))]),default:e.withCtx(()=>[e.createTextVNode(" "+e.toDisplayString(e.unref(h.t)("twofactor_gateway","Save Configuration")),1)]),_:1},8,["disabled","aria-busy"]),_.value?(e.openBlock(),e.createBlock(e.unref(le),{key:0,type:"tertiary",disabled:r.value,onClick:z},{icon:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.unref(Re),{key:0,size:20})):(e.openBlock(),e.createBlock(Do,{key:1,size:20}))]),default:e.withCtx(()=>[e.createTextVNode(" "+e.toDisplayString(e.unref(h.t)("twofactor_gateway","Test Connection")),1)]),_:1},8,["disabled"])):e.createCommentVNode("",!0),a.value?(e.openBlock(),e.createBlock(e.unref(le),{key:1,type:"secondary",disabled:r.value,onClick:N},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Cancel")),1)]),_:1},8,["disabled"])):e.createCommentVNode("",!0)]),u.value?(e.openBlock(),e.createBlock(e.unref(Ct),{key:0,type:f.value,class:"status-message"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1},8,["type"])):e.createCommentVNode("",!0),_.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",jo,[e.createElementVNode("h3",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","How to Configure")),1),e.createElementVNode("ol",null,[e.createElementVNode("li",null,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Go to Meta Business Manager"))+" ",1),e.createElementVNode("a",Yo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","https://business.facebook.com")),1)]),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Navigate to WhatsApp Manager  Phone Numbers")),1),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Copy your Phone Number ID")),1),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Go to Settings  Business Account  Copy your Account ID")),1),e.createElementVNode("li",null,[e.createTextVNode(e.toDisplayString(e.unref(h.t)("twofactor_gateway","Create a Graph API token in your app settings"))+" ",1),e.createElementVNode("a",qo,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Documentation")),1)]),e.createElementVNode("li",null,e.toDisplayString(e.unref(h.t)("twofactor_gateway","Paste all credentials above and save")),1)])]))]))}}),[["__scopeId","data-v-8150006c"]]),Lt="twofactor-gateway-",Zo="whatsapp-cloud-api-settings";document.querySelectorAll(`div[id^="${Lt}"]`).forEach(o=>{const n=o.id.slice(Lt.length),i=tn("twofactor_gateway",`settings-${n}`,{name:"",instructions:""});e.createApp(yo,{gatewayName:n,displayName:i.name,instructions:i.instructions||""}).mount(o)});const Dt=document.getElementById(Zo);Dt&&e.createApp(Xo).mount(Dt)}));
